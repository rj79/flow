{% extends 'base.html' %}
{% import 'material/wtf.html' as wtf %}

{% block content %}

{% for project in projects %}
<div>
  <a href="{{ url_for('admin.project', key=project.key) }}">{{ project.key }} {{ project.name }}</a>
</div>
{% endfor %}

<a class="waves-effect waves-light btn modal-trigger" href="#myModal"><i class="fa fa-cube fa-2x"> Create project</i></a>

<!-- Modal -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <h4><i class="fa fa-cube fa-2x"></i> Create Project</h4>
    <div class="modal-body">
      {{ wtf.quick_form(project_form, action=url_for('api.projects')) }}
    </div>
    <div class="modal-footer">
      <button type="button" class="btn">Close</button>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var elems = document.querySelectorAll('.modal');
    var instances = M.Modal.init(elems, { opacity: 0.5, dismissible: true });
  });
</script>
{% endblock %}
